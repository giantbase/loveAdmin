"use strict";(self["webpackChunklove_admin"]=self["webpackChunklove_admin"]||[]).push([[653],{8653:function(e,t,r){r.r(t),r.d(t,{default:function(){return n}});var a=function(){var e=this,t=e._self._c;return t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{staticStyle:{margin:"20px 0 0 40px"},attrs:{span:23}},[t("el-col",{staticStyle:{"margin-right":"50px"},attrs:{span:12}},[t("div",[t("h2",{staticClass:"titleStyle"},[e._v("项目类型及服务对象")]),t("el-form-item",{attrs:{label:"公益类型：",prop:"class"}},[t("el-select",{staticClass:"selectServe",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.class,callback:function(t){e.$set(e.ruleForm,"class",t)},expression:"ruleForm.class"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"服务对象：",prop:"serve"}},[t("el-checkbox-group",{attrs:{min:1,max:3},model:{value:e.ruleForm.targets,callback:function(t){e.$set(e.ruleForm,"targets",t)},expression:"ruleForm.targets"}},e._l(e.serveOptions,(function(r){return t("el-checkbox",{key:r,attrs:{label:r}},[e._v(e._s(r))])})),1)],1)],1),t("div",[t("h2",{staticClass:"titleStyle"},[e._v("项目基础信息")]),t("el-form-item",{attrs:{label:"项目名称：",prop:"name"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"项目介绍：",prop:"desp"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:e.ruleForm.desp,callback:function(t){e.$set(e.ruleForm,"desp",t)},expression:"ruleForm.desp"}})],1)],1)]),t("el-col",{attrs:{span:10}},[t("div",{staticStyle:{"margin-bottom":"20px"}},[t("h2",{staticClass:"titleStyle"},[e._v("项目图片")]),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://101.43.187.111:8082/upload","on-success":e.handleSuccess,headers:e.headerObj,"list-type":"picture","show-file-list":!1,accept:"image/jpeg, image/jpg, image/png"}},[e.ruleForm.imgUrl?t("el-image",{staticClass:"avatar",attrs:{src:e.ruleForm.imgUrl,fit:"cover"}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1),t("span",{staticStyle:{"margin-left":"75px",color:"#606266"}},[e._v("(添加公益项目图片)")])],1),t("div",[t("h2",{staticClass:"titleStyle"},[e._v("项目联系人")]),t("el-form-item",{attrs:{label:"姓名：",prop:"contactName"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.contactName,callback:function(t){e.$set(e.ruleForm,"contactName",t)},expression:"ruleForm.contactName"}})],1),t("el-form-item",{attrs:{label:"手机号：",prop:"contactPhone"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),t("el-form-item",{attrs:{label:"邮箱：",prop:"contactEmail"}},[t("el-input",{attrs:{clearable:""},model:{value:e.ruleForm.contactEmail,callback:function(t){e.$set(e.ruleForm,"contactEmail",t)},expression:"ruleForm.contactEmail"}})],1)],1)])],1)],1),t("el-row",{staticClass:"subBOX"},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交项目")]),t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置表单")])],1)],1)],1)},l=[],s=r(3822),o={name:"AddPubItem",data(){return{rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:3,max:15,message:"项目名称长度在 3 到 15 个字符",trigger:"blur"}],class:[{required:!0,message:"请选择公益类型",trigger:"blur"}],serve:[{required:!0,message:"至少选 1 个，最多选 3 个",trigger:"blur"}],contactName:[{required:!0,message:"请输入联系人的姓名",trigger:"blur"},{min:2,message:"请输入正确的姓名",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人的手机号码",trigger:"blur"},{min:11,max:12,message:"请输入正确的手机号码",trigger:"blur"}],contactEmail:[{required:!0,message:"请输入联系人的邮箱",trigger:"blur"},{min:10,max:30,message:"请输入正确的邮箱",trigger:"blur"}],desp:[{required:!0,message:"请输入项目的详细介绍",trigger:"blur"},{min:10,message:"项目介绍最少 10 个字符",trigger:"blur"}]},headerObj:{authorization:window.localStorage.getItem("TOKEN")},options:[{value:"1",label:"促进社会发展和进步的其他社会公共和福利事业"},{value:"2",label:"环境保护、社会公共设施建设"},{value:"3",label:"教育、科学、文化、卫生、体育"},{value:"4",label:"赈灾救灾、扶贫助贫、障碍人救助扶助"}],serveOptions:["儿童","留守儿童","老人","青少年","困难家庭","农名群众","人民群众"],ruleForm:{name:"",rate:"",imgUrl:"",status:0,needIntergral:"",receiveIntergral:"",createTime:"",contactName:"",contactPhone:"",contactEmail:"",sponsor:"",address:"",class:"",desp:"",targets:[]}}},computed:{...(0,s.rn)({member:e=>e.user.member})},methods:{handleSuccess(e){console.log("succuss",e),this.ruleForm.imgUrl=e.data[0],this.$message({message:"公益项目图片上传成功！",type:"success"})},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message({message:"请检查输入框中的内容是否不符合修改规则！",type:"warning"}),!1;this.$message({message:"提交成功，我们正在加急审核",type:"success"})}))},resetForm(e){this.$refs[e].resetFields()}}},i=o,m=r(1001),c=(0,m.Z)(i,a,l,!1,null,"02c0584b",null),n=c.exports}}]);